{% extends "base.html" %}
{% load static %}

{% block title %}Удаление вакансии{% endblock %}
{% block description %}Подтверждение удаления вакансии "{{ vacancy.title }}"{% endblock %}

{% block page_header %}
<!-- Блок с градиентом и заголовком -->
<div class="task-header-gradient">
    <div class="container">
        <div class="text-center text-white">
            <h1 class="display-5 fw-bold mb-3">Удаление вакансии</h1>
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb justify-content-center mb-0 breadcrumb-header">
                    <li class="breadcrumb-item">
                        <a href="{% url 'home' %}" class="text-white text-decoration-none">Главная</a>
                    </li>
                    <li class="breadcrumb-item">
                        <a href="{% url 'vacancies:vacancy_list' %}" class="text-white text-decoration-none">Вакансии</a>
                    </li>
                    <li class="breadcrumb-item">
                        <a href="{% url 'vacancies:vacancy_detail' vacancy.slug %}" class="text-white text-decoration-none">{{ vacancy.title|truncatewords:3 }}</a>
                    </li>
                    <li class="breadcrumb-item active text-white" aria-current="page">Удаление</li>
                </ol>
            </nav>
        </div>
    </div>
</div>
{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-lg-6">
        <div class="card shadow-sm">
            <div class="card-header bg-light">
                <h5 class="mb-0">
                    <i class="bi bi-exclamation-triangle me-2"></i>Подтверждение удаления
                </h5>
            </div>
            <div class="card-body">
                <div class="alert alert-warning">
                    <h6 class="alert-heading">Внимание!</h6>
                    <p class="mb-0">Вы собираетесь удалить вакансию "{{ vacancy.title }}".</p>
                </div>
                
                <div class="card mb-4">
                    <div class="card-body">
                        <h6>Информация о вакансии:</h6>
                        <ul class="list-unstyled small">
                            <li><strong>Название:</strong> {{ vacancy.title }}</li>
                            <li><strong>Специальность:</strong> {{ vacancy.specialty.name }}</li>
                            <li><strong>Зарплата:</strong> {{ vacancy.salary|floatformat:0 }} руб.</li>
                            <li><strong>Место работы:</strong> {{ vacancy.location }}</li>
                            <li><strong>Дата создания:</strong> {{ vacancy.created_at|date:"d.m.Y" }}</li>
                            <li><strong>Просмотров:</strong> {{ vacancy.views }}</li>
                            <li><strong>Откликов:</strong> {{ vacancy.responses_count }}</li>
                        </ul>
                    </div>
                </div>
                
                <div class="alert alert-info">
                    <i class="bi bi-info-circle me-2"></i>
                    <strong>Важно:</strong> Вакансия будет перемещена в архив и станет недоступна для просмотра. 
                    Все отклики на вакансию сохранятся в системе.
                </div>
                
                <form method="post">
                    {% csrf_token %}
                    <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                        <a href="{% url 'vacancies:vacancy_detail' vacancy.slug %}" class="btn btn-secondary me-md-2">
                            <i class="bi bi-arrow-left me-1"></i>Отмена
                        </a>
                        <button type="submit" class="btn btn-danger">
                            <i class="bi bi-trash me-1"></i>Удалить вакансию
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<div style="height: 50px;"></div>
{% endblock %}

{% block extra_css %}
<style>
.card {
    border: none;
    border-radius: 0.5rem;
}

.btn {
    border-radius: 0.375rem;
    padding: 0.5rem 1rem;
}

.list-unstyled li {
    margin-bottom: 0.3rem;
    padding-left: 0;
}
</style>
{% endblock %}